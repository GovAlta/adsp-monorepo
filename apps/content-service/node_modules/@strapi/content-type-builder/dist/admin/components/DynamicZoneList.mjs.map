{"version":3,"file":"DynamicZoneList.mjs","sources":["../../../admin/src/components/DynamicZoneList.tsx"],"sourcesContent":["import { ComponentType, useState } from 'react';\n\nimport { Box, Flex, Typography } from '@strapi/design-system';\nimport { Plus } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { getTrad } from '../utils/getTrad';\n\nimport { ComponentCard } from './ComponentCard';\nimport { ComponentList } from './ComponentList';\nimport { ComponentRow } from './ComponentRow';\nimport { useDataManager } from './DataManager/useDataManager';\n\nimport type { Internal, Struct } from '@strapi/types';\n\ninterface DynamicZoneListProps {\n  addComponent: (name?: string) => void;\n  components: Array<Internal.UID.Component>;\n  customRowComponent?: ComponentType<any>;\n  name?: string;\n  forTarget: Struct.ModelType;\n  targetUid: Internal.UID.Schema;\n  disabled?: boolean;\n}\n\nconst StyledAddIcon = styled(Plus)<{ disabled?: boolean }>`\n  width: 3.2rem;\n  height: 3.2rem;\n  padding: 0.9rem;\n  border-radius: 6.4rem;\n  background: ${({ theme, disabled }) =>\n    disabled ? theme.colors.neutral100 : theme.colors.primary100};\n  path {\n    fill: ${({ theme, disabled }) =>\n      disabled ? theme.colors.neutral600 : theme.colors.primary600};\n  }\n`;\n\nconst ComponentStack = styled(Flex)`\n  flex-shrink: 0;\n  width: 14rem;\n  height: 8rem;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const DynamicZoneList = ({\n  components = [],\n  addComponent,\n  name,\n  forTarget,\n  targetUid,\n  disabled = false,\n}: DynamicZoneListProps) => {\n  const { isInDevelopmentMode } = useDataManager();\n  const [activeTab, setActiveTab] = useState(0);\n  const { formatMessage } = useIntl();\n\n  const toggle = (tab: number) => {\n    if (activeTab !== tab) {\n      setActiveTab(tab);\n    }\n  };\n\n  const handleClickAdd = () => {\n    addComponent(name);\n  };\n\n  return (\n    <ComponentRow className=\"dynamiczone-row\" $isFromDynamicZone>\n      <Box>\n        <Box padding={2} paddingLeft=\"104px\">\n          <Flex role=\"tablist\" gap={2} wrap=\"wrap\">\n            {isInDevelopmentMode && (\n              <button\n                type=\"button\"\n                onClick={handleClickAdd}\n                disabled={disabled}\n                style={{\n                  cursor: disabled ? 'not-allowed' : 'pointer',\n                }}\n              >\n                <ComponentStack direction=\"column\" alignItems=\"stretch\" gap={1}>\n                  <StyledAddIcon disabled={disabled} />\n                  <Typography\n                    variant=\"pi\"\n                    fontWeight=\"bold\"\n                    textColor={disabled ? 'neutral600' : 'primary600'}\n                  >\n                    {formatMessage({\n                      id: getTrad('button.component.add'),\n                      defaultMessage: 'Add a component',\n                    })}\n                  </Typography>\n                </ComponentStack>\n              </button>\n            )}\n            {components.map((component, index) => {\n              return (\n                <ComponentCard\n                  key={component}\n                  dzName={name || ''}\n                  index={index}\n                  component={component}\n                  isActive={activeTab === index}\n                  isInDevelopmentMode={isInDevelopmentMode}\n                  onClick={() => toggle(index)}\n                  forTarget={forTarget}\n                  targetUid={targetUid}\n                  disabled={disabled}\n                />\n              );\n            })}\n          </Flex>\n        </Box>\n        <Box>\n          {components.map((component, index) => {\n            return (\n              <Box\n                id={`dz-${name}-panel-${index}`}\n                role=\"tabpanel\"\n                aria-labelledby={`dz-${name}-tab-${index}`}\n                key={component}\n                style={{ display: activeTab === index ? 'block' : 'none' }}\n              >\n                <ComponentList isFromDynamicZone component={component} key={component} />\n              </Box>\n            );\n          })}\n        </Box>\n      </Box>\n    </ComponentRow>\n  );\n};\n"],"names":["StyledAddIcon","styled","Plus","theme","disabled","colors","neutral100","primary100","neutral600","primary600","ComponentStack","Flex","DynamicZoneList","components","addComponent","name","forTarget","targetUid","isInDevelopmentMode","useDataManager","activeTab","setActiveTab","useState","formatMessage","useIntl","toggle","tab","handleClickAdd","_jsx","ComponentRow","className","$isFromDynamicZone","_jsxs","Box","padding","paddingLeft","role","gap","wrap","button","type","onClick","style","cursor","direction","alignItems","Typography","variant","fontWeight","textColor","id","getTrad","defaultMessage","map","component","index","ComponentCard","dzName","isActive","aria-labelledby","display","ComponentList","isFromDynamicZone"],"mappings":"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"}