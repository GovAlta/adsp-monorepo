{"version":3,"file":"SelectDateType.js","sources":["../../../admin/src/components/SelectDateType.tsx"],"sourcesContent":["import { Field, SingleSelect, SingleSelectOption } from '@strapi/design-system';\nimport { PrimitiveType, useIntl } from 'react-intl';\n\ntype SelectDateTypeProps = {\n  intlLabel: {\n    id: string;\n    defaultMessage: string;\n    values?: object;\n  };\n  error?: string;\n  modifiedData: {\n    default: number;\n    max: number;\n    min: number;\n  };\n  name: string;\n  onChange: (value: {\n    target: {\n      name: string;\n      value: string | number | null;\n      type?: string;\n    };\n  }) => void;\n  options: Array<{\n    metadatas: {\n      intlLabel: {\n        id: string;\n        defaultMessage: string;\n        values: Record<string, PrimitiveType> | undefined;\n      };\n      disabled?: boolean;\n      hidden?: boolean;\n    };\n    key: string | number;\n    value: string | number;\n  }>;\n  value?: string;\n};\n\nexport const SelectDateType = ({\n  intlLabel,\n  error = undefined,\n  modifiedData,\n  name,\n  onChange,\n  options,\n  value = '',\n}: SelectDateTypeProps) => {\n  const { formatMessage } = useIntl();\n  const label = formatMessage(intlLabel);\n  const errorMessage = error ? formatMessage({ id: error, defaultMessage: error }) : '';\n\n  const handleChange = (nextValue: string | number) => {\n    onChange({ target: { name, value: nextValue, type: 'select' } });\n\n    if (!value) {\n      return;\n    }\n\n    if (modifiedData.default !== undefined && modifiedData.default !== null) {\n      onChange({ target: { name: 'default', value: null } });\n    }\n  };\n\n  return (\n    <Field.Root error={errorMessage} name={name}>\n      <Field.Label>{label}</Field.Label>\n      <SingleSelect onChange={handleChange} value={value || ''}>\n        {options.map(({ metadatas: { intlLabel, disabled, hidden }, key, value }) => {\n          return (\n            <SingleSelectOption key={key} value={value} disabled={disabled} hidden={hidden}>\n              {formatMessage(\n                { id: intlLabel.id, defaultMessage: intlLabel.defaultMessage },\n                intlLabel.values\n              )}\n            </SingleSelectOption>\n          );\n        })}\n      </SingleSelect>\n      <Field.Error />\n    </Field.Root>\n  );\n};\n"],"names":["SelectDateType","intlLabel","error","undefined","modifiedData","name","onChange","options","value","formatMessage","useIntl","label","errorMessage","id","defaultMessage","handleChange","nextValue","target","type","default","_jsxs","Field","Root","_jsx","Label","SingleSelect","map","metadatas","disabled","hidden","key","SingleSelectOption","values","Error"],"mappings":";;;;;;MAuCaA,cAAiB,GAAA,CAAC,EAC7BC,SAAS,EACTC,QAAQC,SAAS,EACjBC,YAAY,EACZC,IAAI,EACJC,QAAQ,EACRC,OAAO,EACPC,KAAAA,GAAQ,EAAE,EACU,GAAA;IACpB,MAAM,EAAEC,aAAa,EAAE,GAAGC,iBAAAA,EAAAA;AAC1B,IAAA,MAAMC,QAAQF,aAAcR,CAAAA,SAAAA,CAAAA;IAC5B,MAAMW,YAAAA,GAAeV,QAAQO,aAAc,CAAA;QAAEI,EAAIX,EAAAA,KAAAA;QAAOY,cAAgBZ,EAAAA;KAAW,CAAA,GAAA,EAAA;AAEnF,IAAA,MAAMa,eAAe,CAACC,SAAAA,GAAAA;QACpBV,QAAS,CAAA;YAAEW,MAAQ,EAAA;AAAEZ,gBAAAA,IAAAA;gBAAMG,KAAOQ,EAAAA,SAAAA;gBAAWE,IAAM,EAAA;AAAS;AAAE,SAAA,CAAA;AAE9D,QAAA,IAAI,CAACV,KAAO,EAAA;AACV,YAAA;AACF;AAEA,QAAA,IAAIJ,aAAae,OAAO,KAAKhB,aAAaC,YAAae,CAAAA,OAAO,KAAK,IAAM,EAAA;YACvEb,QAAS,CAAA;gBAAEW,MAAQ,EAAA;oBAAEZ,IAAM,EAAA,SAAA;oBAAWG,KAAO,EAAA;AAAK;AAAE,aAAA,CAAA;AACtD;AACF,KAAA;IAEA,qBACEY,eAAA,CAACC,mBAAMC,IAAI,EAAA;QAACpB,KAAOU,EAAAA,YAAAA;QAAcP,IAAMA,EAAAA,IAAAA;;AACrC,0BAAAkB,cAAA,CAACF,mBAAMG,KAAK,EAAA;AAAEb,gBAAAA,QAAAA,EAAAA;;0BACdY,cAACE,CAAAA,yBAAAA,EAAAA;gBAAanB,QAAUS,EAAAA,YAAAA;AAAcP,gBAAAA,KAAAA,EAAOA,KAAS,IAAA,EAAA;AACnDD,gBAAAA,QAAAA,EAAAA,OAAAA,CAAQmB,GAAG,CAAC,CAAC,EAAEC,SAAAA,EAAW,EAAE1B,SAAS,EAAE2B,QAAQ,EAAEC,MAAM,EAAE,EAAEC,GAAG,EAAEtB,KAAK,EAAE,GAAA;AACtE,oBAAA,qBACEe,cAACQ,CAAAA,+BAAAA,EAAAA;wBAA6BvB,KAAOA,EAAAA,KAAAA;wBAAOoB,QAAUA,EAAAA,QAAAA;wBAAUC,MAAQA,EAAAA,MAAAA;kCACrEpB,aACC,CAAA;AAAEI,4BAAAA,EAAAA,EAAIZ,UAAUY,EAAE;AAAEC,4BAAAA,cAAAA,EAAgBb,UAAUa;AAAe,yBAAA,EAC7Db,UAAU+B,MAAM;AAHKF,qBAAAA,EAAAA,GAAAA,CAAAA;AAO7B,iBAAA;;AAEF,0BAAAP,cAAA,CAACF,mBAAMY,KAAK,EAAA,EAAA;;;AAGlB;;;;"}