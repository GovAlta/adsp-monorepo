{"version":3,"file":"UploadProgress.mjs","sources":["../../../../admin/src/components/UploadProgress/UploadProgress.tsx"],"sourcesContent":["// TODO: find a better naming convention for the file that was an index file before\nimport { Flex, ProgressBar, Typography } from '@strapi/design-system';\nimport { Cross } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { UpdateFile } from '../../../../shared/contracts/files';\n\nconst BoxWrapper = styled(Flex)`\n  border-radius: ${({ theme }) => `${theme.borderRadius} ${theme.borderRadius} 0 0`};\n  width: 100%;\n  height: 100%;\n\n  svg {\n    path {\n      fill: ${({ theme, error }) => (error ? theme.colors.danger600 : undefined)};\n    }\n  }\n`;\n\nconst CancelButton = styled.button`\n  border: none;\n  background: none;\n  width: min-content;\n  color: ${({ theme }) => theme.colors.neutral600};\n\n  &:hover,\n  &:focus {\n    color: ${({ theme }) => theme.colors.neutral700};\n  }\n\n  svg {\n    height: 10px;\n    width: 10px;\n\n    path {\n      fill: currentColor;\n    }\n  }\n`;\n\nexport interface UploadProgressProps {\n  error?: UpdateFile.Response['error'] | Error | null;\n  onCancel: () => void;\n  progress?: number;\n}\n\nexport const UploadProgress = ({ onCancel, progress = 0, error }: UploadProgressProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <BoxWrapper alignItems=\"center\" background={error ? 'danger100' : 'neutral150'} error={error}>\n      {error ? (\n        <Cross aria-label={error?.message} />\n      ) : (\n        <Flex direction=\"column\" alignItems=\"center\" gap={2} width=\"100%\">\n          <ProgressBar value={progress} />\n          <Typography>{`${progress}/100%`}</Typography>\n\n          <CancelButton type=\"button\" onClick={onCancel}>\n            <Flex gap={2}>\n              <Typography variant=\"pi\" tag=\"span\" textColor=\"inherit\">\n                {formatMessage({\n                  id: 'app.components.Button.cancel',\n                  defaultMessage: 'Cancel',\n                })}\n              </Typography>\n\n              <Cross aria-hidden />\n            </Flex>\n          </CancelButton>\n        </Flex>\n      )}\n    </BoxWrapper>\n  );\n};\n"],"names":["BoxWrapper","styled","Flex","theme","borderRadius","error","colors","danger600","undefined","CancelButton","button","neutral600","neutral700","UploadProgress","onCancel","progress","formatMessage","useIntl","_jsx","alignItems","background","Cross","aria-label","message","_jsxs","direction","gap","width","ProgressBar","value","Typography","type","onClick","variant","tag","textColor","id","defaultMessage","aria-hidden"],"mappings":";;;;;;AAAA;AAQA,MAAMA,UAAAA,GAAaC,MAAOC,CAAAA,IAAAA,CAAK;AACd,iBAAA,EAAE,CAAC,EAAEC,KAAK,EAAE,GAAK,CAAC,EAAEA,KAAAA,CAAMC,YAAY,CAAC,CAAC,EAAED,KAAAA,CAAMC,YAAY,CAAC,IAAI,CAAC,CAAC;;;;;;AAMxE,YAAA,EAAE,CAAC,EAAED,KAAK,EAAEE,KAAK,EAAE,GAAMA,KAAAA,GAAQF,KAAMG,CAAAA,MAAM,CAACC,SAAS,GAAGC,SAAW,CAAA;;;AAGjF,CAAC;AAED,MAAMC,YAAAA,GAAeR,MAAOS,CAAAA,MAAM;;;;SAIzB,EAAE,CAAC,EAAEP,KAAK,EAAE,GAAKA,KAAMG,CAAAA,MAAM,CAACK,UAAU,CAAC;;;;WAIvC,EAAE,CAAC,EAAER,KAAK,EAAE,GAAKA,KAAMG,CAAAA,MAAM,CAACM,UAAU,CAAC;;;;;;;;;;;AAWpD,CAAC;AAQM,MAAMC,cAAiB,GAAA,CAAC,EAAEC,QAAQ,EAAEC,QAAW,GAAA,CAAC,EAAEV,KAAK,EAAuB,GAAA;IACnF,MAAM,EAAEW,aAAa,EAAE,GAAGC,OAAAA,EAAAA;AAE1B,IAAA,qBACEC,GAAClB,CAAAA,UAAAA,EAAAA;QAAWmB,UAAW,EAAA,QAAA;AAASC,QAAAA,UAAAA,EAAYf,QAAQ,WAAc,GAAA,YAAA;QAAcA,KAAOA,EAAAA,KAAAA;AACpFA,QAAAA,QAAAA,EAAAA,KAAAA,iBACCa,GAACG,CAAAA,KAAAA,EAAAA;AAAMC,YAAAA,YAAAA,EAAYjB,KAAOkB,EAAAA;2BAE1BC,IAACtB,CAAAA,IAAAA,EAAAA;YAAKuB,SAAU,EAAA,QAAA;YAASN,UAAW,EAAA,QAAA;YAASO,GAAK,EAAA,CAAA;YAAGC,KAAM,EAAA,MAAA;;8BACzDT,GAACU,CAAAA,WAAAA,EAAAA;oBAAYC,KAAOd,EAAAA;;8BACpBG,GAACY,CAAAA,UAAAA,EAAAA;8BAAY,CAAC,EAAEf,QAAS,CAAA,KAAK;;8BAE9BG,GAACT,CAAAA,YAAAA,EAAAA;oBAAasB,IAAK,EAAA,QAAA;oBAASC,OAASlB,EAAAA,QAAAA;AACnC,oBAAA,QAAA,gBAAAU,IAACtB,CAAAA,IAAAA,EAAAA;wBAAKwB,GAAK,EAAA,CAAA;;0CACTR,GAACY,CAAAA,UAAAA,EAAAA;gCAAWG,OAAQ,EAAA,IAAA;gCAAKC,GAAI,EAAA,MAAA;gCAAOC,SAAU,EAAA,SAAA;0CAC3CnB,aAAc,CAAA;oCACboB,EAAI,EAAA,8BAAA;oCACJC,cAAgB,EAAA;AAClB,iCAAA;;0CAGFnB,GAACG,CAAAA,KAAAA,EAAAA;gCAAMiB,aAAW,EAAA;;;;;;;;AAOhC;;;;"}