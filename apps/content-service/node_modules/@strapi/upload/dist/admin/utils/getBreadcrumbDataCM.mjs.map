{"version":3,"file":"getBreadcrumbDataCM.mjs","sources":["../../../admin/src/utils/getBreadcrumbDataCM.ts"],"sourcesContent":["import { getTrad } from './getTrad';\n\nimport type { Folder } from '../../../shared/contracts/folders';\nimport type { MessageDescriptor } from 'react-intl';\n\nexport interface BreadcrumbDataFolder extends Omit<Folder, 'children' | 'files' | 'parent'> {\n  parent?: BreadcrumbDataFolder;\n  children?: {\n    count: number;\n  };\n  files?: {\n    count: number;\n  };\n}\n\ninterface BreadcrumbItem {\n  id?: number | null;\n  label?: MessageDescriptor | string;\n  path?: string;\n}\n\ntype BreadcrumbData = BreadcrumbItem | [];\n\nexport const getBreadcrumbDataCM = (folder: BreadcrumbDataFolder | null) => {\n  const data: BreadcrumbData[] = [\n    {\n      id: null,\n      label: { id: getTrad('plugin.name'), defaultMessage: 'Media Library' },\n    },\n  ];\n\n  if (folder?.parent?.parent) {\n    data.push([]);\n  }\n\n  if (folder?.parent) {\n    data.push({\n      id: folder.parent.id,\n      label: folder.parent.name,\n      path: folder.parent.path,\n    });\n  }\n\n  if (folder) {\n    data.push({\n      id: folder.id,\n      label: folder.name,\n      path: folder.path,\n    });\n  }\n\n  return data;\n};\n"],"names":["getBreadcrumbDataCM","folder","data","id","label","getTrad","defaultMessage","parent","push","name","path"],"mappings":";;AAuBO,MAAMA,sBAAsB,CAACC,MAAAA,GAAAA;AAClC,IAAA,MAAMC,IAAyB,GAAA;AAC7B,QAAA;YACEC,EAAI,EAAA,IAAA;YACJC,KAAO,EAAA;AAAED,gBAAAA,EAAAA,EAAIE,OAAQ,CAAA,aAAA,CAAA;gBAAgBC,cAAgB,EAAA;AAAgB;AACvE;AACD,KAAA;IAED,IAAIL,MAAAA,EAAQM,QAAQA,MAAQ,EAAA;QAC1BL,IAAKM,CAAAA,IAAI,CAAC,EAAE,CAAA;AACd;AAEA,IAAA,IAAIP,QAAQM,MAAQ,EAAA;AAClBL,QAAAA,IAAAA,CAAKM,IAAI,CAAC;YACRL,EAAIF,EAAAA,MAAAA,CAAOM,MAAM,CAACJ,EAAE;YACpBC,KAAOH,EAAAA,MAAAA,CAAOM,MAAM,CAACE,IAAI;YACzBC,IAAMT,EAAAA,MAAAA,CAAOM,MAAM,CAACG;AACtB,SAAA,CAAA;AACF;AAEA,IAAA,IAAIT,MAAQ,EAAA;AACVC,QAAAA,IAAAA,CAAKM,IAAI,CAAC;AACRL,YAAAA,EAAAA,EAAIF,OAAOE,EAAE;AACbC,YAAAA,KAAAA,EAAOH,OAAOQ,IAAI;AAClBC,YAAAA,IAAAA,EAAMT,OAAOS;AACf,SAAA,CAAA;AACF;IAEA,OAAOR,IAAAA;AACT;;;;"}