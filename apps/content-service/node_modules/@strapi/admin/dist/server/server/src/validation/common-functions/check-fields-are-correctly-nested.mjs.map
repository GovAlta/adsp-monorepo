{"version":3,"file":"check-fields-are-correctly-nested.mjs","sources":["../../../../../../server/src/validation/common-functions/check-fields-are-correctly-nested.ts"],"sourcesContent":["import _ from 'lodash';\n\nconst checkFieldsAreCorrectlyNested = (fields: unknown) => {\n  if (_.isNil(fields)) {\n    // Only check if the fields exist\n    return true;\n  }\n  if (!Array.isArray(fields)) {\n    return false;\n  }\n\n  let failed = false;\n  for (let indexA = 0; indexA < fields.length; indexA += 1) {\n    failed = fields\n      .slice(indexA + 1)\n      .some(\n        (fieldB) =>\n          fieldB.startsWith(`${fields[indexA]}.`) || fields[indexA].startsWith(`${fieldB}.`)\n      );\n    if (failed) break;\n  }\n\n  return !failed;\n};\n\nexport default checkFieldsAreCorrectlyNested;\n"],"names":["checkFieldsAreCorrectlyNested","fields","_","isNil","Array","isArray","failed","indexA","length","slice","some","fieldB","startsWith"],"mappings":";;AAEA,MAAMA,gCAAgC,CAACC,MAAAA,GAAAA;IACrC,IAAIC,UAAAA,CAAEC,KAAK,CAACF,MAAS,CAAA,EAAA;;QAEnB,OAAO,IAAA;AACT;AACA,IAAA,IAAI,CAACG,KAAAA,CAAMC,OAAO,CAACJ,MAAS,CAAA,EAAA;QAC1B,OAAO,KAAA;AACT;AAEA,IAAA,IAAIK,MAAS,GAAA,KAAA;IACb,IAAK,IAAIC,SAAS,CAAGA,EAAAA,MAAAA,GAASN,OAAOO,MAAM,EAAED,UAAU,CAAG,CAAA;AACxDD,QAAAA,MAAAA,GAASL,MACNQ,CAAAA,KAAK,CAACF,MAAAA,GAAS,CACfG,CAAAA,CAAAA,IAAI,CACH,CAACC,MACCA,GAAAA,MAAAA,CAAOC,UAAU,CAAC,CAAC,EAAEX,MAAM,CAACM,MAAAA,CAAO,CAAC,CAAC,CAAC,CAAA,IAAKN,MAAM,CAACM,MAAAA,CAAO,CAACK,UAAU,CAAC,CAAC,EAAED,MAAAA,CAAO,CAAC,CAAC,CAAA,CAAA;AAEvF,QAAA,IAAIL,MAAQ,EAAA;AACd;AAEA,IAAA,OAAO,CAACA,MAAAA;AACV;;;;"}