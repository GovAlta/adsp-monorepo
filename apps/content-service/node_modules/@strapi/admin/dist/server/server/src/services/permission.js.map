{"version":3,"file":"permission.js","sources":["../../../../../server/src/services/permission.ts"],"sourcesContent":["import domain from '../domain/permission';\nimport createActionProvider from '../domain/action/provider';\nimport createConditionProvider from '../domain/condition/provider';\nimport createPermissionsManager from './permission/permissions-manager';\nimport createPermissionEngine from './permission/engine';\nimport createSectionsBuilder from './permission/sections-builder';\nimport {\n  cleanPermissionsInDatabase,\n  createMany,\n  deleteByIds,\n  deleteByRolesIds,\n  findMany,\n  findUserPermissions,\n} from './permission/queries';\n\nconst actionProvider = createActionProvider();\nconst conditionProvider = createConditionProvider();\nconst sectionsBuilder = createSectionsBuilder();\n\nconst sanitizePermission = domain.sanitizePermissionFields;\n\nconst engine = createPermissionEngine({\n  providers: { action: actionProvider, condition: conditionProvider },\n});\n\nexport {\n  // Queries / Actions\n  cleanPermissionsInDatabase,\n  createMany,\n  deleteByIds,\n  deleteByRolesIds,\n  findMany,\n  findUserPermissions,\n  // Utils\n  createPermissionsManager,\n  sectionsBuilder,\n  sanitizePermission,\n  // Engine\n  engine,\n  // Providers\n  actionProvider,\n  conditionProvider,\n};\n"],"names":["actionProvider","createActionProvider","conditionProvider","createConditionProvider","sectionsBuilder","createSectionsBuilder","sanitizePermission","domain","sanitizePermissionFields","engine","createPermissionEngine","providers","action","condition"],"mappings":";;;;;;;;;;AAeA,MAAMA,cAAiBC,GAAAA,QAAAA;AACvB,MAAMC,iBAAoBC,GAAAA,UAAAA;AAC1B,MAAMC,eAAkBC,GAAAA,OAAAA;AAElBC,MAAAA,kBAAAA,GAAqBC,gBAAOC;AAElC,MAAMC,SAASC,QAAuB,CAAA;IACpCC,SAAW,EAAA;QAAEC,MAAQZ,EAAAA,cAAAA;QAAgBa,SAAWX,EAAAA;AAAkB;AACpE,CAAA;;;;;;;;;;;;;;;"}