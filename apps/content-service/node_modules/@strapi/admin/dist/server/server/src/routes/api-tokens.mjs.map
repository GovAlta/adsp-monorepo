{"version":3,"file":"api-tokens.mjs","sources":["../../../../../server/src/routes/api-tokens.ts"],"sourcesContent":["export default [\n  {\n    method: 'POST',\n    path: '/api-tokens',\n    handler: 'api-token.create',\n    config: {\n      policies: [\n        'admin::isAuthenticatedAdmin',\n        { name: 'admin::hasPermissions', config: { actions: ['admin::api-tokens.create'] } },\n      ],\n    },\n  },\n  {\n    method: 'GET',\n    path: '/api-tokens',\n    handler: 'api-token.list',\n    config: {\n      policies: [\n        'admin::isAuthenticatedAdmin',\n        { name: 'admin::hasPermissions', config: { actions: ['admin::api-tokens.read'] } },\n      ],\n    },\n  },\n  {\n    method: 'DELETE',\n    path: '/api-tokens/:id',\n    handler: 'api-token.revoke',\n    config: {\n      policies: [\n        'admin::isAuthenticatedAdmin',\n        { name: 'admin::hasPermissions', config: { actions: ['admin::api-tokens.delete'] } },\n      ],\n    },\n  },\n  {\n    method: 'GET',\n    path: '/api-tokens/:id',\n    handler: 'api-token.get',\n    config: {\n      policies: [\n        'admin::isAuthenticatedAdmin',\n        { name: 'admin::hasPermissions', config: { actions: ['admin::api-tokens.read'] } },\n      ],\n    },\n  },\n  {\n    method: 'PUT',\n    path: '/api-tokens/:id',\n    handler: 'api-token.update',\n    config: {\n      policies: [\n        'admin::isAuthenticatedAdmin',\n        { name: 'admin::hasPermissions', config: { actions: ['admin::api-tokens.update'] } },\n      ],\n    },\n  },\n  {\n    method: 'POST',\n    path: '/api-tokens/:id/regenerate',\n    handler: 'api-token.regenerate',\n    config: {\n      policies: [\n        'admin::isAuthenticatedAdmin',\n        { name: 'admin::hasPermissions', config: { actions: ['admin::api-tokens.regenerate'] } },\n      ],\n    },\n  },\n];\n"],"names":["method","path","handler","config","policies","name","actions"],"mappings":"AAAA,gBAAe;AACb,IAAA;QACEA,MAAQ,EAAA,MAAA;QACRC,IAAM,EAAA,aAAA;QACNC,OAAS,EAAA,kBAAA;QACTC,MAAQ,EAAA;YACNC,QAAU,EAAA;AACR,gBAAA,6BAAA;AACA,gBAAA;oBAAEC,IAAM,EAAA,uBAAA;oBAAyBF,MAAQ,EAAA;wBAAEG,OAAS,EAAA;AAAC,4BAAA;AAA2B;AAAC;AAAE;AACpF;AACH;AACF,KAAA;AACA,IAAA;QACEN,MAAQ,EAAA,KAAA;QACRC,IAAM,EAAA,aAAA;QACNC,OAAS,EAAA,gBAAA;QACTC,MAAQ,EAAA;YACNC,QAAU,EAAA;AACR,gBAAA,6BAAA;AACA,gBAAA;oBAAEC,IAAM,EAAA,uBAAA;oBAAyBF,MAAQ,EAAA;wBAAEG,OAAS,EAAA;AAAC,4BAAA;AAAyB;AAAC;AAAE;AAClF;AACH;AACF,KAAA;AACA,IAAA;QACEN,MAAQ,EAAA,QAAA;QACRC,IAAM,EAAA,iBAAA;QACNC,OAAS,EAAA,kBAAA;QACTC,MAAQ,EAAA;YACNC,QAAU,EAAA;AACR,gBAAA,6BAAA;AACA,gBAAA;oBAAEC,IAAM,EAAA,uBAAA;oBAAyBF,MAAQ,EAAA;wBAAEG,OAAS,EAAA;AAAC,4BAAA;AAA2B;AAAC;AAAE;AACpF;AACH;AACF,KAAA;AACA,IAAA;QACEN,MAAQ,EAAA,KAAA;QACRC,IAAM,EAAA,iBAAA;QACNC,OAAS,EAAA,eAAA;QACTC,MAAQ,EAAA;YACNC,QAAU,EAAA;AACR,gBAAA,6BAAA;AACA,gBAAA;oBAAEC,IAAM,EAAA,uBAAA;oBAAyBF,MAAQ,EAAA;wBAAEG,OAAS,EAAA;AAAC,4BAAA;AAAyB;AAAC;AAAE;AAClF;AACH;AACF,KAAA;AACA,IAAA;QACEN,MAAQ,EAAA,KAAA;QACRC,IAAM,EAAA,iBAAA;QACNC,OAAS,EAAA,kBAAA;QACTC,MAAQ,EAAA;YACNC,QAAU,EAAA;AACR,gBAAA,6BAAA;AACA,gBAAA;oBAAEC,IAAM,EAAA,uBAAA;oBAAyBF,MAAQ,EAAA;wBAAEG,OAAS,EAAA;AAAC,4BAAA;AAA2B;AAAC;AAAE;AACpF;AACH;AACF,KAAA;AACA,IAAA;QACEN,MAAQ,EAAA,MAAA;QACRC,IAAM,EAAA,4BAAA;QACNC,OAAS,EAAA,sBAAA;QACTC,MAAQ,EAAA;YACNC,QAAU,EAAA;AACR,gBAAA,6BAAA;AACA,gBAAA;oBAAEC,IAAM,EAAA,uBAAA;oBAAyBF,MAAQ,EAAA;wBAAEG,OAAS,EAAA;AAAC,4BAAA;AAA+B;AAAC;AAAE;AACxF;AACH;AACF;CACD;;;;"}