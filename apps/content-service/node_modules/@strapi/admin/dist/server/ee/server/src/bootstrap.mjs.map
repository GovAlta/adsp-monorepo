{"version":3,"file":"bootstrap.mjs","sources":["../../../../../ee/server/src/bootstrap.ts"],"sourcesContent":["import executeCEBootstrap from '../../../server/src/bootstrap';\nimport { getService } from './utils';\nimport actions from './config/admin-actions';\n\nexport default async (args: any) => {\n  const { actionProvider } = getService('permission');\n  const { persistTablesWithPrefix } = getService('persist-tables');\n\n  if (strapi.ee.features.isEnabled('sso')) {\n    await actionProvider.registerMany(actions.sso);\n  }\n\n  if (strapi.ee.features.isEnabled('audit-logs')) {\n    await persistTablesWithPrefix('strapi_audit_logs');\n    await actionProvider.registerMany(actions.auditLogs);\n  }\n\n  await getService('seat-enforcement').seatEnforcementWorkflow();\n  await executeCEBootstrap(args);\n};\n"],"names":["args","actionProvider","getService","persistTablesWithPrefix","strapi","ee","features","isEnabled","registerMany","actions","sso","auditLogs","seatEnforcementWorkflow","executeCEBootstrap"],"mappings":";;;;AAIA,gBAAe,CAAA,OAAOA,IAAAA,GAAAA;AACpB,IAAA,MAAM,EAAEC,cAAc,EAAE,GAAGC,UAAW,CAAA,YAAA,CAAA;AACtC,IAAA,MAAM,EAAEC,uBAAuB,EAAE,GAAGD,UAAW,CAAA,gBAAA,CAAA;AAE/C,IAAA,IAAIE,OAAOC,EAAE,CAACC,QAAQ,CAACC,SAAS,CAAC,KAAQ,CAAA,EAAA;AACvC,QAAA,MAAMN,cAAeO,CAAAA,YAAY,CAACC,OAAAA,CAAQC,GAAG,CAAA;AAC/C;AAEA,IAAA,IAAIN,OAAOC,EAAE,CAACC,QAAQ,CAACC,SAAS,CAAC,YAAe,CAAA,EAAA;AAC9C,QAAA,MAAMJ,uBAAwB,CAAA,mBAAA,CAAA;AAC9B,QAAA,MAAMF,cAAeO,CAAAA,YAAY,CAACC,OAAAA,CAAQE,SAAS,CAAA;AACrD;IAEA,MAAMT,UAAAA,CAAW,oBAAoBU,uBAAuB,EAAA;AAC5D,IAAA,MAAMC,WAAmBb,CAAAA,IAAAA,CAAAA;AAC3B,CAAA;;;;"}