{"version":3,"file":"difference.mjs","sources":["../../../../../../../../../admin/src/pages/Settings/pages/Roles/utils/difference.ts"],"sourcesContent":["import isEqual from 'lodash/isEqual';\nimport isObject from 'lodash/isObject';\nimport transform from 'lodash/transform';\n\ntype ObjectDiff<T> = {\n  [P in keyof T]?: T[P] extends Record<string, unknown> ? ObjectDiff<T[P]> : T[P];\n};\n\nfunction difference<T extends Record<string, unknown>>(object: T, base: T): ObjectDiff<T> {\n  function changes(object: T, base: T): ObjectDiff<T> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return transform(object, (result, value: any, key: keyof ObjectDiff<T>) => {\n      if (!isEqual(value, base[key])) {\n        result[key] =\n          isObject(value) && isObject(base[key]) ? changes(value as T, base[key] as T) : value;\n      }\n      return result;\n    });\n  }\n\n  return changes(object, base);\n}\n\nexport { difference };\n"],"names":["difference","object","base","changes","transform","result","value","key","isEqual","isObject"],"mappings":";;;;AAQA,SAASA,UAAAA,CAA8CC,MAAS,EAAEC,IAAO,EAAA;IACvE,SAASC,OAAAA,CAAQF,MAAS,EAAEC,IAAO,EAAA;;AAEjC,QAAA,OAAOE,SAAUH,CAAAA,MAAAA,EAAQ,CAACI,MAAAA,EAAQC,KAAYC,EAAAA,GAAAA,GAAAA;AAC5C,YAAA,IAAI,CAACC,OAAQF,CAAAA,KAAAA,EAAOJ,IAAI,CAACK,IAAI,CAAG,EAAA;AAC9BF,gBAAAA,MAAM,CAACE,GAAAA,CAAI,GACTE,QAAAA,CAASH,UAAUG,QAASP,CAAAA,IAAI,CAACK,GAAAA,CAAI,IAAIJ,OAAQG,CAAAA,KAAAA,EAAYJ,IAAI,CAACK,IAAI,CAASD,GAAAA,KAAAA;AACnF;YACA,OAAOD,MAAAA;AACT,SAAA,CAAA;AACF;AAEA,IAAA,OAAOF,QAAQF,MAAQC,EAAAA,IAAAA,CAAAA;AACzB;;;;"}