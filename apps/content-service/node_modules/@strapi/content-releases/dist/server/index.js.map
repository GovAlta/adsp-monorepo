{"version":3,"file":"index.js","sources":["../../server/src/index.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-var-requires */\nimport { register } from './register';\nimport { bootstrap } from './bootstrap';\nimport { destroy } from './destroy';\nimport { contentTypes } from './content-types';\nimport { services } from './services';\nimport { controllers } from './controllers';\nimport { routes } from './routes';\n\nconst getPlugin = () => {\n  if (strapi.ee.features.isEnabled('cms-content-releases')) {\n    return {\n      register,\n      bootstrap,\n      destroy,\n      contentTypes,\n      services,\n      controllers,\n      routes,\n    };\n  }\n\n  return {\n    // Always return register, it handles its own feature check\n    register,\n    // Always return contentTypes to avoid losing data when the feature is disabled\n    contentTypes,\n  };\n};\n\nexport default getPlugin();\n"],"names":["getPlugin","strapi","ee","features","isEnabled","register","bootstrap","destroy","contentTypes","services","controllers","routes"],"mappings":";;;;;;;;;;AASA,MAAMA,SAAY,GAAA,IAAA;AAChB,IAAA,IAAIC,OAAOC,EAAE,CAACC,QAAQ,CAACC,SAAS,CAAC,sBAAyB,CAAA,EAAA;QACxD,OAAO;AACLC,sBAAAA,iBAAAA;AACAC,uBAAAA,mBAAAA;AACAC,qBAAAA,eAAAA;AACAC,0BAAAA,oBAAAA;AACAC,sBAAAA,gBAAAA;AACAC,yBAAAA,mBAAAA;AACAC,oBAAAA;AACF,SAAA;AACF;IAEA,OAAO;;AAELN,kBAAAA,iBAAAA;;AAEAG,sBAAAA;AACF,KAAA;AACF,CAAA;AAEA,YAAeR,SAAY,EAAA;;;;"}