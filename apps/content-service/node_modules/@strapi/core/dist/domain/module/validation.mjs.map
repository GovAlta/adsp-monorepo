{"version":3,"file":"validation.mjs","sources":["../../../src/domain/module/validation.ts"],"sourcesContent":["import { yup } from '@strapi/utils';\n\nconst strapiServerSchema = yup\n  .object()\n  .shape({\n    bootstrap: yup.mixed().isFunction(),\n    destroy: yup.mixed().isFunction(),\n    register: yup.mixed().isFunction(),\n    config: yup.object(),\n    routes: yup.lazy((value) => {\n      if (Array.isArray(value)) {\n        return yup.array();\n      }\n      return yup.object();\n    }),\n    controllers: yup.object(),\n    services: yup.object(),\n    policies: yup.object(),\n    middlewares: yup.object(),\n    contentTypes: yup.object(),\n  })\n  .noUnknown();\n\nconst validateModule = (data: unknown) => {\n  return strapiServerSchema.validateSync(data, { strict: true, abortEarly: false });\n};\n\nexport { validateModule };\n"],"names":["strapiServerSchema","yup","object","shape","bootstrap","mixed","isFunction","destroy","register","config","routes","lazy","value","Array","isArray","array","controllers","services","policies","middlewares","contentTypes","noUnknown","validateModule","data","validateSync","strict","abortEarly"],"mappings":";;AAEA,MAAMA,kBAAqBC,GAAAA,GAAAA,CACxBC,MAAM,EAAA,CACNC,KAAK,CAAC;IACLC,SAAWH,EAAAA,GAAAA,CAAII,KAAK,EAAA,CAAGC,UAAU,EAAA;IACjCC,OAASN,EAAAA,GAAAA,CAAII,KAAK,EAAA,CAAGC,UAAU,EAAA;IAC/BE,QAAUP,EAAAA,GAAAA,CAAII,KAAK,EAAA,CAAGC,UAAU,EAAA;AAChCG,IAAAA,MAAAA,EAAQR,IAAIC,MAAM,EAAA;IAClBQ,MAAQT,EAAAA,GAAAA,CAAIU,IAAI,CAAC,CAACC,KAAAA,GAAAA;QAChB,IAAIC,KAAAA,CAAMC,OAAO,CAACF,KAAQ,CAAA,EAAA;AACxB,YAAA,OAAOX,IAAIc,KAAK,EAAA;AAClB;AACA,QAAA,OAAOd,IAAIC,MAAM,EAAA;AACnB,KAAA,CAAA;AACAc,IAAAA,WAAAA,EAAaf,IAAIC,MAAM,EAAA;AACvBe,IAAAA,QAAAA,EAAUhB,IAAIC,MAAM,EAAA;AACpBgB,IAAAA,QAAAA,EAAUjB,IAAIC,MAAM,EAAA;AACpBiB,IAAAA,WAAAA,EAAalB,IAAIC,MAAM,EAAA;AACvBkB,IAAAA,YAAAA,EAAcnB,IAAIC,MAAM;AAC1B,CAAA,CAAA,CACCmB,SAAS,EAAA;AAEZ,MAAMC,iBAAiB,CAACC,IAAAA,GAAAA;IACtB,OAAOvB,kBAAAA,CAAmBwB,YAAY,CAACD,IAAM,EAAA;QAAEE,MAAQ,EAAA,IAAA;QAAMC,UAAY,EAAA;AAAM,KAAA,CAAA;AACjF;;;;"}