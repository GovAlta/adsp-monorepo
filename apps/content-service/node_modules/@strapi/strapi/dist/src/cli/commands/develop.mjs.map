{"version":3,"file":"develop.mjs","sources":["../../../../src/cli/commands/develop.ts"],"sourcesContent":["import { createCommand } from 'commander';\nimport cluster from 'node:cluster';\nimport type { StrapiCommand } from '../types';\nimport { develop as nodeDevelop, DevelopOptions } from '../../node/develop';\nimport { handleUnexpectedError } from '../../node/core/errors';\n\ntype DevelopCLIOptions = DevelopOptions;\n\nconst action = async (options: DevelopCLIOptions) => {\n  try {\n    if (cluster.isPrimary) {\n      if (options.bundler === 'webpack') {\n        options.logger.warn(\n          '[@strapi/strapi]: Using webpack as a bundler is deprecated. You should migrate to vite.'\n        );\n      }\n    }\n\n    await nodeDevelop(options);\n  } catch (err) {\n    handleUnexpectedError(err);\n  }\n};\n\n/**\n * `$ strapi develop`\n */\nconst command: StrapiCommand = ({ ctx }) => {\n  return createCommand('develop')\n    .alias('dev')\n    .option('--bundler [bundler]', 'Bundler to use (webpack or vite)', 'vite')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--silent', \"Don't log anything\", false)\n    .option('--polling', 'Watch for file changes in network directories', false)\n    .option('--watch-admin', 'Watch the admin panel for hot changes', true)\n    .option('--no-watch-admin', 'Do not watch the admin panel for hot changes')\n    .option('--open', 'Open the admin in your browser', true)\n    .description('Start your Strapi application in development mode')\n    .action(async (options: DevelopCLIOptions) => {\n      return action({ ...options, ...ctx });\n    });\n};\n\nexport { command };\n"],"names":["action","options","cluster","isPrimary","bundler","logger","warn","nodeDevelop","err","handleUnexpectedError","command","ctx","createCommand","alias","option","description"],"mappings":";;;;;AAQA,MAAMA,SAAS,OAAOC,OAAAA,GAAAA;IACpB,IAAI;QACF,IAAIC,OAAAA,CAAQC,SAAS,EAAE;YACrB,IAAIF,OAAAA,CAAQG,OAAO,KAAK,SAAW,EAAA;gBACjCH,OAAQI,CAAAA,MAAM,CAACC,IAAI,CACjB,yFAAA,CAAA;AAEJ;AACF;AAEA,QAAA,MAAMC,OAAYN,CAAAA,OAAAA,CAAAA;AACpB,KAAA,CAAE,OAAOO,GAAK,EAAA;QACZC,qBAAsBD,CAAAA,GAAAA,CAAAA;AACxB;AACF,CAAA;AAEA;;AAEC,IACKE,MAAAA,OAAAA,GAAyB,CAAC,EAAEC,GAAG,EAAE,GAAA;IACrC,OAAOC,aAAAA,CAAc,WAClBC,KAAK,CAAC,OACNC,MAAM,CAAC,uBAAuB,kCAAoC,EAAA,MAAA,CAAA,CAClEA,MAAM,CAAC,aAAA,EAAe,2CAA2C,KACjEA,CAAAA,CAAAA,MAAM,CAAC,UAAY,EAAA,oBAAA,EAAsB,OACzCA,MAAM,CAAC,aAAa,+CAAiD,EAAA,KAAA,CAAA,CACrEA,MAAM,CAAC,eAAA,EAAiB,yCAAyC,IACjEA,CAAAA,CAAAA,MAAM,CAAC,kBAAoB,EAAA,8CAAA,CAAA,CAC3BA,MAAM,CAAC,QAAA,EAAU,kCAAkC,IACnDC,CAAAA,CAAAA,WAAW,CAAC,mDACZf,CAAAA,CAAAA,MAAM,CAAC,OAAOC,OAAAA,GAAAA;AACb,QAAA,OAAOD,MAAO,CAAA;AAAE,YAAA,GAAGC,OAAO;AAAE,YAAA,GAAGU;AAAI,SAAA,CAAA;AACrC,KAAA,CAAA;AACJ;;;;"}