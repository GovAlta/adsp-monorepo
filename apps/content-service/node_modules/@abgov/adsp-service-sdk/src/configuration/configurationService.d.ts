import type { Logger } from 'winston';
import { ServiceDirectory } from '../directory';
import { AdspId } from '../utils';
import type { CombineConfiguration, ConfigurationConverter } from './configuration';
import { TokenProvider } from '../access';
/**
 * Interface to configuration service for retrieval of service configuration.
 *
 * @export
 * @interface ConfigurationService
 */
export interface ConfigurationService {
    /**
     * Retrieves latest configuration revision for a service.
     *
     * @template C Type of the configuration.
     * @template R Type of the combined tenant and core configuration.
     * @param {AdspId} serviceId
     * @param {string} token
     * @param {AdspId} tenantId
     * @returns {Promise<R>}
     * @memberof ConfigurationService
     */
    getConfiguration<C, R = [C, C]>(serviceId: AdspId, token: string, tenantId?: AdspId): Promise<R>;
    /**
     * Retrieves active configuration revision, with fallback to latest, for the service initialized with the SDK under its service account context.
     *
     * @template C Type of the configuration.
     * @template R Type of the combined tenant and core configuration.
     * @param {string} [name] Name of the configuration to retrieve. Required when the service uses its own configuration namespace.
     * @param {AdspId} [tenantId] Tenant to retrieve configuration for. Only used in platform (multi-tenant) services.
     * @returns {Promise<R>}
     * @memberof ConfigurationService
     */
    getServiceConfiguration<C, R = [C, C]>(name?: string, tenantId?: AdspId): Promise<R>;
}
export declare class ConfigurationServiceImpl implements ConfigurationService {
    #private;
    private readonly serviceId;
    private readonly logger;
    private readonly directory;
    private readonly tokenProvider;
    private readonly useNamespace;
    private readonly LOG_CONTEXT;
    constructor(serviceId: AdspId, logger: Logger, directory: ServiceDirectory, tokenProvider: TokenProvider, useNamespace?: boolean, converter?: ConfigurationConverter, combine?: CombineConfiguration, cacheTTL?: number);
    private getCacheKey;
    private retrieveConfiguration;
    private getConfigurationFromCacheOrApi;
    getConfiguration: <C, R = [C, C]>(serviceId: AdspId, token: string, tenantId?: AdspId) => Promise<R>;
    getServiceConfiguration: <C, R = [C, C]>(name?: string, tenantId?: AdspId) => Promise<R>;
    clearCached(tenantId: AdspId, namespace: string, name: string): void;
}
