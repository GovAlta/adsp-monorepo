import{c5 as h,e as m,a as p,j as e,M as c,b as x,$ as j,cB as f,cC as R,cD as w,cE as o,cF as g,cG as T,cH as k,a9 as y,cI as C}from"./strapi-CZE0NOhr.js";import{W as l}from"./WidgetHelpers-CQjeCQVt.js";import{g as v,R as E}from"./ReleasesPage-BoW7qhxI.js";import"./schemas-dsTsMLKJ.js";import"./index-CUG9Dncs.js";import"./index-BRVyLNfZ.js";import"./index-CBGB9l1q.js";const b=h.enhanceEndpoints({addTagTypes:["UpcomingReleasesList"]}).injectEndpoints({endpoints:t=>({getUpcomingReleases:t.query({query:()=>"/content-releases/homepage/upcoming-releases",transformResponse:a=>a.data,providesTags:(a,n)=>["UpcomingReleasesList"]})}),overrideExisting:!0}),{useGetUpcomingReleasesQuery:M}=b,L=m(c)`
  display: block;
  max-width: 14.4rem;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,U=({items:t})=>{const{formatMessage:a}=p(),{trackUsage:n}=x(),r=j(),d=s=>`/plugins/content-releases/${s.id}`,u=s=>()=>{n("willEditReleaseFromHome");const i=d(s);r(i)};return e.jsx(f,{colCount:4,rowCount:t?.length??0,children:e.jsx(R,{children:t?.map(s=>e.jsxs(w,{onClick:u(s),cursor:"pointer",children:[e.jsx(o,{children:e.jsx(L,{title:s.name,variant:"omega",textColor:"neutral800",children:s.name})}),e.jsx(o,{children:e.jsx(g,{display:"inline-block",children:s.status?e.jsx(T,{...v(s.status),children:s.status}):e.jsx(c,{textColor:"neutral600","aria-hidden":!0,children:"-"})})}),e.jsx(o,{children:e.jsx(c,{variant:"omega",textTransform:"capitalize",textColor:"neutral600",children:s.scheduledAt?e.jsx(E,{timestamp:new Date(s.scheduledAt)}):a({id:"content-releases.pages.Releases.not-scheduled",defaultMessage:"Not scheduled"})})}),e.jsx(o,{onClick:i=>i.stopPropagation(),children:e.jsx(g,{display:"inline-block",children:e.jsx(k,{tag:y,to:d(s),onClick:()=>n("willEditReleaseFromHome"),label:a({id:"content-manager.actions.edit.label",defaultMessage:"Edit"}),variant:"ghost",children:e.jsx(C,{})})})})]},s.documentId))})})},W=()=>{const{formatMessage:t}=p(),{data:a,isLoading:n,error:r}=M();return n?e.jsx(l.Loading,{}):r||!a?e.jsx(l.Error,{}):a.length===0?e.jsx(l.NoData,{children:t({id:"content-releases.widget.upcoming-releases.no-data",defaultMessage:"No releases"})}):e.jsx(U,{items:a})};export{W as UpcomingReleasesWidget};
